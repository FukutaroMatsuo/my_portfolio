<strong style="color: red; ">
※ 現在学習中で間違った内容を記載している可能性が大いにあります。もし間違いがありましたら、遠慮なくご指摘くださいませ。
</strong>

# データベース

データベースは、リレーショナルデータベース（RDBMS）と非リレーショナルデータベース（NoSQL）の2種類に分けられる。

リレーショナルデータベース（RDBMS）はSQL言語を使ってデータベースを操作するのに対して、非リレーショナルデータベース（NoSQL）はSQL言語を使わずにデータベースを操作することができる。

### リレーショナルデータベース（RDBMS）
リレーショナルデータベースは一般的なデータベースで、列と行からなる表形式でデータを保存する。複数の表を結合して利用することもできる。

複雑なデータを得意とする反面、スケールアウト（サーバ台数を増やす）、スケールアップ（CPU、メモリの追加）が難しく、高コストとなりやすい。SQL言語の習得も必要。

AWSサービスでは、Amazon Aurola / PostgreSQL / MySQL / MariaDB / Oracle / SQL server の6つの中から選択して使用することができる。

### 非リレーショナルデータベース（NoSQL）
非リレーショナルデータベースは、厳密には非RDBMSの総称。主に4種類の型に分けられる。

- キー・バリュー型
	- Key + Value で構成される単純なデータ型
	- AWSサービスでは、Amazon DynamoDB、ElastiCashがある
- カラムストア型
	- Key + カラム（列）で構成されるデータ型
	- 行ごとに任意の名前のカラムを無数に保存できる
	- データ操作は、挿入・削除・参照のみ
	- AWSサービスでは、Amazon Keyspaces (Apache Cassandra 向け)がある
- ドキュメント型
	- Keyに対してJSON、XML形式のValueを持つデータ型
	- AWSサービスでは、Amazon DocumentDB（MongoDB互換）がある
- グラフ型
	- グラフ構造を備えたデータ型
	- ノード（データ全体）、エッジ（データの関係性）、プロパティ（データの属性）の3要素で構成される
	- AWSサービスでは、Amazon Neptuneがある

単純なデータを大量に処理するのに向いている。全体的にスケールアウト、スケールアップしやすくなっており、SQL言語の習得も基本的には必要としない。

### データウェアハウス（DWH）
データウェアハウスとは、複数のシステムで収集（抽出）・統合した膨大なデータを、時系列で整理、保存したデータの保管庫。データの収集・集計に特化しているため、継続的な書き込みや更新は遅い。

AWSサービスでは、Redshiftがある。

### インメモリデータベース
インメモリデータベースとは、大量のデータをサーバのメモリ上で分散して管理する技術で、データを高速に処理することができる。

AWSサービスでは、Amazon ElastiCache for Redis、Memcached 用 Amazon ElastiCacheがある。

### 分散OLTP（RDB）
分散OLTPとは、オンライントランザクション処理を分散化するデータベース。

リレーショナルデータベースの構造を持ちながら、非リレーショナルデータベースの分散とスケーラビリティも持っているハイブリッド型。

AWSサービスでは、Auroraがある。MySQLとPostgreSQLとの互換性があり、そのどちらよりも3~5倍高速。

#### トランザクション
データベースをある一貫した状態から、別の一貫した状態へ変更する際の処理をまとめたもの。

つまり、処理を実行した結果として、処理がなされたか、なされなかったのどちらかの状態になっていることを担保する仕組みのこと。

信頼性のあるトランザクションにはACID特性がある。

- Atomicity（整合性）
	- トランザクションは実行されるか、実行されないかのどちらかで無ければならない
	- 処理が中途半端が終わっているという状態は存在しない
- Consistency（一貫性）
	- トランザクションの終了状態に関わらず、データベースの整合性が保たれなければならない
	- 実行結果が矛盾した状態にならず、常に整合性がある
- Isolation（独立性）
	- トランザクション実行中の処理過程が、隠蔽され、他の処理と干渉しない
- Durability（耐久性）
	- トランザクションがコミット（承認）されると、その結果は記録され、システム障害が起こってもデータが失われることがない