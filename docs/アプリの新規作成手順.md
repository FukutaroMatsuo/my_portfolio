### システム全体にRailsをインストールする方法  
  
1. `cd ~/environment/` # 全体のフォルダに移動
2. `gem install rails` # `-v 5.2.2`などバージョン指定も可
3. `rails _5.2.2_ new アプリ名 --database=mysql --skip-test`  
4. `sudo service mysqld start`起動させ、`rails db:create`とする  
5. `rails s`でサーバーに接続できる
  
	
### 個別のディレクトリにRailsをインストールする方法  
  
1. `cd ~/environment/`
2. `mkdir アプリ名`  
3. `cd アプリ名`
4. `bundle init` # gemfileが作成される
5. 作成されたgemfileの、`gem "rails"`部分のコメントを外す
6. `bundle install --path vendor/bundle` # --path以下は初回のみ  
7. `bundle exec rails new . -d mysql --skip-turbolinks --skip-test` # bundleインストールはここで実行
8. gemfileをインストールして良いか聞かれたら、yを押下
9. ディレクトリ内に、`.gitignore`の作成を行う  # [gitignore](https://www.gitignore.io/)
10. githubにアプリ名の新規リポジトリを作成し、`git remote add`以下をコピーしターミナルへ
11. `git init` `git add .` `git commit -m ""` `git push -u origin master`  


### Herokuへのデプロイ手順  

- トップページをrootに登録する  
- gemfile内に`sqlite3`が記述されている場合はコメントアウト  
- gemfileの中に、`gem mysql`と記述されている場合は問題なし
- gemfileの一番下に以下を記述
```ruby
group :production do
  gem 'pg'
end
```  
- `bundle install --without production`を行う
- HerokuをCloud9のターミナルからインストールするツールのインストール  
- `wget https://cli-assets.heroku.com/heroku-linux-x64.tar.gz -O heroku.tar.gz`  
- `sudo mkdir -p /usr/local/lib/heroku`
- `sudo tar --strip-components 1 -zxvf heroku.tar.gz -C /usr/local/lib/heroku`
- `sudo ln -s /usr/local/lib/heroku/bin/heroku /usr/local/bin/heroku`
- `heroku login -i`  Herokuへのログイン
- アプリのディレクトリに移動できているか確認
- `heroku create アプリ名`
- `heroku apps` # 念の為、作成されたか確認する
- database.ymlのproduction:以下に下記のように記述  
```ruby
production:
  adapter: postgresql
  encoding: unicode
  pool: 5
  database: アプリ名_production
  username: アプリ名
  password: <%= ENV['大文字アプリ名_DATABASE_PASSWORD'] %>
```  
- `git add .` `git commit -m ""`　# コミット必須
- `git push heroku master` # やや待つ
- HerokuアプリのURLにアクセスするが、ここではエラー
- `heroku run rails db:migrate`を行う
- 以上で恐らくできる  
- 一応、modelやcontrollerでダブルクォーテーションを使うとcolumnとして認識されるので、シングルへ変更する

[TechAcademy Heroku](https://techacademy.jp/my/rails/rails5-2/heroku#chapter-5)  
[railsアプリをherokuを使って確実にデプロイする方法](https://qiita.com/kazukimatsumoto/items/a0daa7281a3948701c39)