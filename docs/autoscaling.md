<strong style="color: red; ">
※ 現在学習中で間違った内容を記載している可能性が大いにあります。もし間違いがありましたら、遠慮なくご指摘くださいませ。
</strong>

# AutoScaling
AutoScalingとは、需要に応じてリソースを増減することができるサービス。突発的に大量のアクセスがあった場合などに、EC2を自動で増減して対応することができる。また、ELBと紐付けて使用することができる。

### スケーリングのタイプ
- 垂直スケーリング
    - スケールアップ: メモリやCPUの追加、強化
    - スケールダウン: メモリやCPUの削減、弱化
- 水平スケーリング（AutoScalingはこれ）
    - スケールアウト: サーバー台数を増やす
    - スケールイン: サーバー台数を低らす

### 主要サービス
- AutoScalingGroup
    - 起動インスタンスの最小数、最大数の設定
    - 状況に合わせて、インスタンス数を調整
    - AZ間で起動台数を調整する
    - AZの障害時は別のAZに必要なインスタンスを起動する
- AutoScaling起動テンプレート（設定）
    - スケールアウト時のインスタンスの設定情報
    - 一から作成したり、運用しているEC2インスタンスの設定から作成することもできる
    - 起動テンプレートはバージョン管理できる
- AutoScalingPlan
    - どのようにスケールするかの手順
    - スケーリング戦略: リソースの使用率の最適化を設定
    - 手動スケーリング: 設定外のスケーリングにが必要な場合に手動で行う
    - 動的スケーリング: 予測不能なケースに対してスケールアウト方法を設定
    - スケジュールベース: 予測できるケースにスケーリングのスケジュールを設定

### ヘルスチェック
- EC2ステータス
    - インスタンスのステータスがRunning以外の状態を異常と判断する

- ELB（基本はこれを使う）
    - ELBのヘルスチェックをもとに判断する

### ターミネーションポリシー
スケールイン時にどのインスタンスを終了するかの設定

- OldestInstance
    - 最も古いインスタンスを終了する
- NewInstance
    - 最も新しいインスタンスを終了する
- OldestLaunchConfiguration
    - 最も古い起動設定を使用しているインスタンスを終了する
- ClosestToNextInstanceHour
    - 次の請求時期に最も近いインスタンスを削除する
- Default
    - OldestLaunchConfiguration → ClosestToNextInstanceHour の順に終了する。残った場合はランダムに終了する。